(()=>{"use strict";function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(c=i.key,a=void 0,a=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var i=o.call(t,r||"default");if("object"!==_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(c,"string"),"symbol"===_typeof(a)?a:String(a)),i)}var c,a}var t=function(){function EventEmitter(){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,EventEmitter),this._events=new Map}return function _createClass(t,r,o){return r&&_defineProperties(t.prototype,r),o&&_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(EventEmitter,[{key:"on",value:function on(t,r){var o;this._events.has(t)||this._events.set(t,new Set),null===(o=this._events.get(t))||void 0===o||o.add(r)}},{key:"off",value:function off(t,r){var o;this._events.has(t)&&(this._events.get(t).delete(r),0===(null===(o=this._events.get(t))||void 0===o?void 0:o.size)&&this._events.delete(t))}},{key:"emit",value:function emit(t,r){this._events.forEach((function(o,i){"*"===i&&o.forEach((function(o){return o({eventName:t,data:r})})),(i instanceof RegExp&&i.test(t)||i===t)&&o.forEach((function(t){return t(r)}))}))}},{key:"onAll",value:function onAll(t){this.on("*",t)}},{key:"offAll",value:function offAll(){this._events=new Map}},{key:"trigger",value:function trigger(t,r){var o=this;return function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o.emit(t,Object.assign(Object.assign({},i||{}),r||{}))}}}]),EventEmitter}(),r="".concat("","/api/weblarek"),o="".concat("","/content/weblarek");function api_typeof(t){return api_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},api_typeof(t)}function api_defineProperties(t,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(c=i.key,a=void 0,a=function api_toPrimitive(t,r){if("object"!==api_typeof(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var i=o.call(t,r||"default");if("object"!==api_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(c,"string"),"symbol"===api_typeof(a)?a:String(a)),i)}var c,a}function ProductsApi_typeof(t){return ProductsApi_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ProductsApi_typeof(t)}function ProductsApi_defineProperties(t,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(c=i.key,a=void 0,a=function ProductsApi_toPrimitive(t,r){if("object"!==ProductsApi_typeof(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var i=o.call(t,r||"default");if("object"!==ProductsApi_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(c,"string"),"symbol"===ProductsApi_typeof(a)?a:String(a)),i)}var c,a}function _setPrototypeOf(t,r){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){return t.__proto__=r,t},_setPrototypeOf(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var o,i=_getPrototypeOf(t);if(r){var c=_getPrototypeOf(this).constructor;o=Reflect.construct(i,arguments,c)}else o=i.apply(this,arguments);return function _possibleConstructorReturn(t,r){if(r&&("object"===ProductsApi_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}var i=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(ProductsApi,t);var r=_createSuper(ProductsApi);function ProductsApi(t,o,i){var c;return function ProductsApi_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,ProductsApi),(c=r.call(this,o,i)).cdn=t,c}return function ProductsApi_createClass(t,r,o){return r&&ProductsApi_defineProperties(t.prototype,r),o&&ProductsApi_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(ProductsApi,[{key:"fetchProductList",value:function fetchProductList(){return this.get("/product").then((function(t){return t.items.map((function(t){return Object.assign({},t)}))}))}},{key:"productsOrder",value:function productsOrder(t){return this.post("/order",t).then((function(t){return t}))}}]),ProductsApi}(function(){function Api(t){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function api_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Api),this.baseUrl=t,this.options={headers:Object.assign({"Content-Type":"application/json"},null!==(r=o.headers)&&void 0!==r?r:{})}}return function api_createClass(t,r,o){return r&&api_defineProperties(t.prototype,r),o&&api_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(Api,[{key:"handleResponse",value:function handleResponse(t){return t.ok?t.json():t.json().then((function(r){var o;return Promise.reject(null!==(o=r.error)&&void 0!==o?o:t.statusText)}))}},{key:"get",value:function get(t){return fetch(this.baseUrl+t,Object.assign(Object.assign({},this.options),{method:"GET"})).then(this.handleResponse)}},{key:"post",value:function post(t,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"POST";return fetch(this.baseUrl+t,Object.assign(Object.assign({},this.options),{method:o,body:JSON.stringify(r)})).then(this.handleResponse)}}]),Api}());function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,i=new Array(r);o<r;o++)i[o]=t[o];return i}function isSelector(t){return"string"==typeof t&&t.length>1}function ensureAllElements(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;if(isSelector(t))return Array.from(r.querySelectorAll(t));if(t instanceof NodeList)return Array.from(t);if(Array.isArray(t))return t;throw new Error("Unknown selector element")}function ensureElement(t,r){if(isSelector(t)){var o=ensureAllElements(t,r);if(o.length>1&&console.warn("selector ".concat(t," return more then one element")),0===o.length)throw new Error("selector ".concat(t," return nothing"));return o.pop()}if(t instanceof HTMLElement)return t;throw new Error("Unknown selector element")}function cloneTemplate(t){return ensureElement(t).content.firstElementChild.cloneNode(!0)}function setElementData(t,r){for(var o in r)t.dataset[o]=String(r[o])}function createElement(t,r,o){var i,c,a=document.createElement(t);if(r)for(var u in r){var l=r[u];i=l,c=void 0,(c=Object.getPrototypeOf(i))!==Object.getPrototypeOf({})&&null!==c||"dataset"!==u?a[u]="boolean"==typeof l?l:String(l):setElementData(a,l)}if(o){var p,y=function _createForOfIteratorHelper(t,r){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){o&&(t=o);var i=0,c=function F(){};return{s:c,n:function n(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function e(t){throw t},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,l=!1;return{s:function s(){o=o.call(t)},n:function n(){var t=o.next();return u=t.done,t},e:function e(t){l=!0,a=t},f:function f(){try{u||null==o.return||o.return()}finally{if(l)throw a}}}}(Array.isArray(o)?o:[o]);try{for(y.s();!(p=y.n()).done;){var d=p.value;a.append(d)}}catch(t){y.e(t)}finally{y.f()}}return a}function Model_typeof(t){return Model_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Model_typeof(t)}function Model_defineProperties(t,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(c=i.key,a=void 0,a=function Model_toPrimitive(t,r){if("object"!==Model_typeof(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var i=o.call(t,r||"default");if("object"!==Model_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(c,"string"),"symbol"===Model_typeof(a)?a:String(a)),i)}var c,a}var c=function(){function Model(t,r){!function Model_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Model),this.events=r,Object.assign(this,t)}return function Model_createClass(t,r,o){return r&&Model_defineProperties(t.prototype,r),o&&Model_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(Model,[{key:"notifyChanges",value:function notifyChanges(t,r){this.events.emit(t,null!=r?r:{})}}]),Model}();function Product_typeof(t){return Product_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Product_typeof(t)}function Product_defineProperties(t,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(c=i.key,a=void 0,a=function Product_toPrimitive(t,r){if("object"!==Product_typeof(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var i=o.call(t,r||"default");if("object"!==Product_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(c,"string"),"symbol"===Product_typeof(a)?a:String(a)),i)}var c,a}function Product_setPrototypeOf(t,r){return Product_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){return t.__proto__=r,t},Product_setPrototypeOf(t,r)}function Product_createSuper(t){var r=function Product_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var o,i=Product_getPrototypeOf(t);if(r){var c=Product_getPrototypeOf(this).constructor;o=Reflect.construct(i,arguments,c)}else o=i.apply(this,arguments);return function Product_possibleConstructorReturn(t,r){if(r&&("object"===Product_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function Product_assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Product_getPrototypeOf(t){return Product_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},Product_getPrototypeOf(t)}var a=function(t){!function Product_inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Product_setPrototypeOf(t,r)}(Product,t);var r=Product_createSuper(Product);function Product(){return function Product_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Product),r.apply(this,arguments)}return function Product_createClass(t,r,o){return r&&Product_defineProperties(t.prototype,r),o&&Product_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(Product)}(c);function ApplicationState_typeof(t){return ApplicationState_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ApplicationState_typeof(t)}function ApplicationState_defineProperties(t,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(c=i.key,a=void 0,a=function ApplicationState_toPrimitive(t,r){if("object"!==ApplicationState_typeof(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var i=o.call(t,r||"default");if("object"!==ApplicationState_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(c,"string"),"symbol"===ApplicationState_typeof(a)?a:String(a)),i)}var c,a}function ApplicationState_setPrototypeOf(t,r){return ApplicationState_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){return t.__proto__=r,t},ApplicationState_setPrototypeOf(t,r)}function ApplicationState_createSuper(t){var r=function ApplicationState_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var o,i=ApplicationState_getPrototypeOf(t);if(r){var c=ApplicationState_getPrototypeOf(this).constructor;o=Reflect.construct(i,arguments,c)}else o=i.apply(this,arguments);return function ApplicationState_possibleConstructorReturn(t,r){if(r&&("object"===ApplicationState_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function ApplicationState_assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ApplicationState_getPrototypeOf(t){return ApplicationState_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},ApplicationState_getPrototypeOf(t)}var u=function(t){!function ApplicationState_inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&ApplicationState_setPrototypeOf(t,r)}(ApplicationState,t);var r=ApplicationState_createSuper(ApplicationState);function ApplicationState(){var t;return function ApplicationState_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,ApplicationState),(t=r.apply(this,arguments)).cartItems=[],t.currentOrder={address:"",payment:"card",email:"",total:0,phone:"",items:[]},t.orderFormErrors={},t}return function ApplicationState_createClass(t,r,o){return r&&ApplicationState_defineProperties(t.prototype,r),o&&ApplicationState_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(ApplicationState,[{key:"emptyCart",value:function emptyCart(){try{this.cartItems=[],this.currentOrder.items=[]}catch(t){console.error("Ошибка при очистке корзины:",t)}}},{key:"addItemToOrder",value:function addItemToOrder(t){try{if(!t||!t.id)throw new Error("Неверный продукт для добавления в заказ.");null!==t.price&&this.currentOrder.items.push(t.id)}catch(t){console.error("Ошибка при добавлении продукта в заказ:",t)}}},{key:"removeItemFromOrder",value:function removeItemFromOrder(t){try{var r=this.currentOrder.items.indexOf(t.id);r>=0?this.currentOrder.items.splice(r,1):console.warn("Продукт с ID ".concat(t.id," не найден в заказе."))}catch(t){console.error("Ошибка при удалении продукта из заказа:",t)}}},{key:"updateCatalog",value:function updateCatalog(t){var r=this;try{this.productCatalog=t.map((function(t){return new a(t,r.events)})),this.notifyChanges("items:changed",{catalog:this.productCatalog}),console.log("Каталог успешно обновлён.")}catch(t){console.error("Ошибка при обновлении каталога:",t)}}},{key:"updatePreview",value:function updatePreview(t){try{this.selectedPreview=t.id,this.notifyChanges("preview:changed",t)}catch(t){console.error("Ошибка при установке предварительного просмотра:",t)}}},{key:"addItemToCart",value:function addItemToCart(t){try{this.cartItems.push(t)}catch(t){console.error("Ошибка при добавлении продукта в корзину:",t)}}},{key:"removeItemFromCart",value:function removeItemFromCart(t){try{var r=this.cartItems.indexOf(t);r>=0?this.cartItems.splice(r,1):console.warn("Продукт с ID ".concat(t.id," не найден в корзине."))}catch(t){console.error("Ошибка при удалении продукта из корзины:",t)}}},{key:"isBasketEmpty",get:function get(){return 0===this.cartItems.length}},{key:"basketItems",get:function get(){return this.cartItems}},{key:"orderTotal",set:function set(t){try{this.currentOrder.total=t}catch(t){console.error("Ошибка при установке суммы заказа:",t)}}},{key:"calculateTotal",value:function calculateTotal(){var t=this;try{return this.currentOrder.items.reduce((function(r,o){var i=t.productCatalog.find((function(t){return t.id===o}));return i?r+i.price:(console.warn("Продукт с ID ".concat(o," не найден в каталоге.")),r)}),0)}catch(t){return console.error("Ошибка при расчёте общей суммы заказа:",t),0}}},{key:"updateOrderField",value:function updateOrderField(t,r){try{this.currentOrder[t]=r,this.isOrderValid()?this.events.emit("order:ready",this.currentOrder):console.warn("Заказ не валиден после обновления поля '".concat(t,"'."))}catch(t){console.error("Ошибка при установке поля заказа:",t)}}},{key:"updateContactsField",value:function updateContactsField(t,r){try{this.currentOrder[t]=r,this.areContactsValid()?this.events.emit("order:ready",this.currentOrder):console.warn("Контакты не валидны после обновления поля '".concat(t,"'."))}catch(t){console.error("Ошибка при установке поля контактов:",t)}}},{key:"isOrderValid",value:function isOrderValid(){var t={};return this.currentOrder.address||(t.address="Необходимо указать адрес."),this.orderFormErrors=t,this.events.emit("formErrors:change",this.orderFormErrors),0===Object.keys(t).length}},{key:"areContactsValid",value:function areContactsValid(){var t={};return this.currentOrder.email||(t.email="Необходимо указать email."),this.currentOrder.phone||(t.phone="Необходимо указать телефон."),this.orderFormErrors=t,this.events.emit("formErrors:change",this.orderFormErrors),0===Object.keys(t).length}}]),ApplicationState}(c);function Component_typeof(t){return Component_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Component_typeof(t)}function Component_defineProperties(t,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(c=i.key,a=void 0,a=function Component_toPrimitive(t,r){if("object"!==Component_typeof(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var i=o.call(t,r||"default");if("object"!==Component_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(c,"string"),"symbol"===Component_typeof(a)?a:String(a)),i)}var c,a}var l=function(){function Component(t){!function Component_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Component),this.element=t}return function Component_createClass(t,r,o){return r&&Component_defineProperties(t.prototype,r),o&&Component_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(Component,[{key:"toggleClass",value:function toggleClass(t,r,o){t.classList.toggle(r,o)}},{key:"setDisabled",value:function setDisabled(t,r){t&&(r?t.setAttribute("disabled","disabled"):t.removeAttribute("disabled"))}},{key:"setText",value:function setText(t,r){t&&(t.textContent=String(r))}},{key:"setImage",value:function setImage(t,r,o){t&&(t.src=r,o&&(t.alt=o))}},{key:"render",value:function render(t){return Object.assign(this,null!=t?t:{}),this.element}}]),Component}();function MarketPlace_typeof(t){return MarketPlace_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},MarketPlace_typeof(t)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return MarketPlace_arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function MarketPlace_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return MarketPlace_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return MarketPlace_arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MarketPlace_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,i=new Array(r);o<r;o++)i[o]=t[o];return i}function MarketPlace_defineProperties(t,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(c=i.key,a=void 0,a=function MarketPlace_toPrimitive(t,r){if("object"!==MarketPlace_typeof(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var i=o.call(t,r||"default");if("object"!==MarketPlace_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(c,"string"),"symbol"===MarketPlace_typeof(a)?a:String(a)),i)}var c,a}function MarketPlace_setPrototypeOf(t,r){return MarketPlace_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){return t.__proto__=r,t},MarketPlace_setPrototypeOf(t,r)}function MarketPlace_createSuper(t){var r=function MarketPlace_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var o,i=MarketPlace_getPrototypeOf(t);if(r){var c=MarketPlace_getPrototypeOf(this).constructor;o=Reflect.construct(i,arguments,c)}else o=i.apply(this,arguments);return function MarketPlace_possibleConstructorReturn(t,r){if(r&&("object"===MarketPlace_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function MarketPlace_assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function MarketPlace_getPrototypeOf(t){return MarketPlace_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},MarketPlace_getPrototypeOf(t)}var p=function(t){!function MarketPlace_inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&MarketPlace_setPrototypeOf(t,r)}(MarketPlace,t);var r=MarketPlace_createSuper(MarketPlace);function MarketPlace(t,o){var i;return function MarketPlace_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,MarketPlace),(i=r.call(this,t)).events=o,i._counter=ensureElement(".header__basket-counter",t),i._items=ensureElement(".gallery",t),i._wrapper=ensureElement(".page__wrapper",t),i._basket=ensureElement(".header__basket",t),i.setupBasketClickHandler(),i}return function MarketPlace_createClass(t,r,o){return r&&MarketPlace_defineProperties(t.prototype,r),o&&MarketPlace_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(MarketPlace,[{key:"setupBasketClickHandler",value:function setupBasketClickHandler(){var t=this;this._basket.addEventListener("click",(function(){t.events.emit("basket:open")}))}},{key:"counter",set:function set(t){var r=t<0?0:t;this.setText(this._counter,String(r))}},{key:"items",set:function set(t){var r;t.length>0?(r=this._items).replaceChildren.apply(r,_toConsumableArray(t)):this._items.innerHTML=""}},{key:"lockClass",set:function set(t){t?this._wrapper.classList.add("page__wrapper_locked"):this._wrapper.classList.remove("page__wrapper_locked")}}]),MarketPlace}(l);function ProductCard_typeof(t){return ProductCard_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ProductCard_typeof(t)}function ProductCard_defineProperties(t,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(c=i.key,a=void 0,a=function ProductCard_toPrimitive(t,r){if("object"!==ProductCard_typeof(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var i=o.call(t,r||"default");if("object"!==ProductCard_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(c,"string"),"symbol"===ProductCard_typeof(a)?a:String(a)),i)}var c,a}function ProductCard_setPrototypeOf(t,r){return ProductCard_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){return t.__proto__=r,t},ProductCard_setPrototypeOf(t,r)}function ProductCard_createSuper(t){var r=function ProductCard_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var o,i=ProductCard_getPrototypeOf(t);if(r){var c=ProductCard_getPrototypeOf(this).constructor;o=Reflect.construct(i,arguments,c)}else o=i.apply(this,arguments);return function ProductCard_possibleConstructorReturn(t,r){if(r&&("object"===ProductCard_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function ProductCard_assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ProductCard_getPrototypeOf(t){return ProductCard_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},ProductCard_getPrototypeOf(t)}var y=function(t){!function ProductCard_inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&ProductCard_setPrototypeOf(t,r)}(ProductCard,t);var r=ProductCard_createSuper(ProductCard);function ProductCard(t,o){var i;return function ProductCard_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,ProductCard),(i=r.call(this,t))._colorType={"софт-скил":"soft",другое:"other",дополнительное:"additional",кнопка:"button","хард-скил":"hard"},i._name=ensureElement(".card__title",t),i._category=ensureElement(".card__category",t),i._imageUrl=ensureElement(".card__image",t),i._cost=ensureElement(".card__price",t),(null==o?void 0:o.onClick)&&t.addEventListener("click",o.onClick),i}return function ProductCard_createClass(t,r,o){return r&&ProductCard_defineProperties(t.prototype,r),o&&ProductCard_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(ProductCard,[{key:"name",set:function set(t){try{this.setText(this._name,t)}catch(t){console.error("Ошибка при установке имени:",t)}}},{key:"category",set:function set(t){try{this.setText(this._category,t);var r=this._colorType[t];r?this._category.className="card__category card__category_".concat(r):console.warn("Цвет для категории '".concat(t,"' не найден."))}catch(t){console.error("Ошибка при установке категории:",t)}}},{key:"imageUrl",set:function set(t){try{this.setImage(this._imageUrl,t,this.name)}catch(t){console.error("Ошибка при установке URL изображения:",t)}}},{key:"cost",set:function set(t){try{this.setText(this._cost,null===t?"Бесценно":"".concat(t," синапсов"))}catch(t){console.error("Ошибка при установке стоимости:",t)}}}]),ProductCard}(l);function Popup_typeof(t){return Popup_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Popup_typeof(t)}function Popup_defineProperties(t,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(c=i.key,a=void 0,a=function Popup_toPrimitive(t,r){if("object"!==Popup_typeof(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var i=o.call(t,r||"default");if("object"!==Popup_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(c,"string"),"symbol"===Popup_typeof(a)?a:String(a)),i)}var c,a}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(t,r,o){var i=function _superPropBase(t,r){for(;!Object.prototype.hasOwnProperty.call(t,r)&&null!==(t=Popup_getPrototypeOf(t)););return t}(t,r);if(i){var c=Object.getOwnPropertyDescriptor(i,r);return c.get?c.get.call(arguments.length<3?t:o):c.value}},_get.apply(this,arguments)}function Popup_setPrototypeOf(t,r){return Popup_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){return t.__proto__=r,t},Popup_setPrototypeOf(t,r)}function Popup_createSuper(t){var r=function Popup_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var o,i=Popup_getPrototypeOf(t);if(r){var c=Popup_getPrototypeOf(this).constructor;o=Reflect.construct(i,arguments,c)}else o=i.apply(this,arguments);return function Popup_possibleConstructorReturn(t,r){if(r&&("object"===Popup_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function Popup_assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Popup_getPrototypeOf(t){return Popup_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},Popup_getPrototypeOf(t)}var d=function(t){!function Popup_inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Popup_setPrototypeOf(t,r)}(Popup,t);var r=Popup_createSuper(Popup);function Popup(t,o){var i;return function Popup_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Popup),(i=r.call(this,t)).events=o,i.initializeElements(t),i.addEventListeners(),i}return function Popup_createClass(t,r,o){return r&&Popup_defineProperties(t.prototype,r),o&&Popup_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(Popup,[{key:"initializeElements",value:function initializeElements(t){this._closeButton=ensureElement(".modal__close",t),this._popupContent=ensureElement(".modal__content",t)}},{key:"addEventListeners",value:function addEventListeners(){this._closeButton.addEventListener("click",this.closeModal.bind(this)),this.element.addEventListener("click",this.closeModal.bind(this)),this._popupContent.addEventListener("click",(function(t){return t.stopPropagation()}))}},{key:"popupContent",set:function set(t){t instanceof HTMLElement?this._popupContent.replaceChildren(t):console.warn("Переданное значение не является HTMLElement.")}},{key:"openModal",value:function openModal(){try{this.element.classList.add("modal_active"),this.events.emit("modal:open")}catch(t){console.error("Ошибка при открытии модального окна:",t)}}},{key:"closeModal",value:function closeModal(){try{this.element.classList.remove("modal_active"),this.popupContent=null,this.events.emit("modal:close")}catch(t){console.error("Ошибка при закрытии модального окна:",t)}}},{key:"render",value:function render(t){try{return _get(Popup_getPrototypeOf(Popup.prototype),"render",this).call(this,t),this.openModal(),this.element}catch(t){console.error("Ошибка при рендеринге модального окна:",t)}}}]),Popup}(l);function Basket_typeof(t){return Basket_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Basket_typeof(t)}function Basket_toConsumableArray(t){return function Basket_arrayWithoutHoles(t){if(Array.isArray(t))return Basket_arrayLikeToArray(t)}(t)||function Basket_iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function Basket_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return Basket_arrayLikeToArray(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Basket_arrayLikeToArray(t,r)}(t)||function Basket_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Basket_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var o=0,i=new Array(r);o<r;o++)i[o]=t[o];return i}function Basket_defineProperties(t,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(c=i.key,a=void 0,a=function Basket_toPrimitive(t,r){if("object"!==Basket_typeof(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var i=o.call(t,r||"default");if("object"!==Basket_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(c,"string"),"symbol"===Basket_typeof(a)?a:String(a)),i)}var c,a}function Basket_setPrototypeOf(t,r){return Basket_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){return t.__proto__=r,t},Basket_setPrototypeOf(t,r)}function Basket_createSuper(t){var r=function Basket_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var o,i=Basket_getPrototypeOf(t);if(r){var c=Basket_getPrototypeOf(this).constructor;o=Reflect.construct(i,arguments,c)}else o=i.apply(this,arguments);return function Basket_possibleConstructorReturn(t,r){if(r&&("object"===Basket_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function Basket_assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Basket_getPrototypeOf(t){return Basket_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},Basket_getPrototypeOf(t)}var m=function(t){!function Basket_inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Basket_setPrototypeOf(t,r)}(Basket,t);var r=Basket_createSuper(Basket);function Basket(t,o){var i;return function Basket_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Basket),(i=r.call(this,t)).events=o,i.initializeElements(),i.addEventListeners(),i.cartItems=[],i}return function Basket_createClass(t,r,o){return r&&Basket_defineProperties(t.prototype,r),o&&Basket_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(Basket,[{key:"initializeElements",value:function initializeElements(){this._basketList=ensureElement(".basket__list",this.element),this._totalAmount=this.element.querySelector(".basket__price"),this.basketButton=this.element.querySelector(".basket__button")}},{key:"addEventListeners",value:function addEventListeners(){this.basketButton&&this.basketButton.addEventListener("click",this.handleOrderOpen.bind(this))}},{key:"handleOrderOpen",value:function handleOrderOpen(){this.events.emit("order:open")}},{key:"cartItems",set:function set(t){if(t.length>0){var r;(r=this._basketList).replaceChildren.apply(r,Basket_toConsumableArray(t))}else{var o=createElement("p",{textContent:"Корзина пуста"});this._basketList.replaceChildren(o)}}},{key:"totalAmount",set:function set(t){this.setText(this._totalAmount,"".concat(t," синапсов"))}}]),Basket}(l);function Form_typeof(t){return Form_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Form_typeof(t)}function Form_defineProperties(t,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(c=i.key,a=void 0,a=function Form_toPrimitive(t,r){if("object"!==Form_typeof(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var i=o.call(t,r||"default");if("object"!==Form_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(c,"string"),"symbol"===Form_typeof(a)?a:String(a)),i)}var c,a}function Form_get(){return Form_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(t,r,o){var i=function Form_superPropBase(t,r){for(;!Object.prototype.hasOwnProperty.call(t,r)&&null!==(t=Form_getPrototypeOf(t)););return t}(t,r);if(i){var c=Object.getOwnPropertyDescriptor(i,r);return c.get?c.get.call(arguments.length<3?t:o):c.value}},Form_get.apply(this,arguments)}function Form_setPrototypeOf(t,r){return Form_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){return t.__proto__=r,t},Form_setPrototypeOf(t,r)}function Form_createSuper(t){var r=function Form_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var o,i=Form_getPrototypeOf(t);if(r){var c=Form_getPrototypeOf(this).constructor;o=Reflect.construct(i,arguments,c)}else o=i.apply(this,arguments);return function Form_possibleConstructorReturn(t,r){if(r&&("object"===Form_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function Form_assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Form_getPrototypeOf(t){return Form_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},Form_getPrototypeOf(t)}var __rest=function(t,r){var o={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&r.indexOf(i)<0&&(o[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(i=Object.getOwnPropertySymbols(t);c<i.length;c++)r.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(t,i[c])&&(o[i[c]]=t[i[c]])}return o},_=function(t){!function Form_inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Form_setPrototypeOf(t,r)}(Form,t);var r=Form_createSuper(Form);function Form(t,o){var i;return function Form_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Form),(i=r.call(this,t)).element=t,i.events=o,i.initializeElements(),i.addEventListeners(),i}return function Form_createClass(t,r,o){return r&&Form_defineProperties(t.prototype,r),o&&Form_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(Form,[{key:"initializeElements",value:function initializeElements(){this._submitButton=ensureElement("button[type=submit]",this.element),this._validationErrors=ensureElement(".form__errors",this.element)}},{key:"addEventListeners",value:function addEventListeners(){this.element.addEventListener("input",this.handleInputChange.bind(this)),this.element.addEventListener("submit",this.handleSubmit.bind(this))}},{key:"handleInputChange",value:function handleInputChange(t){var r=t.target,o=r.name,i=r.value;this.handleFieldChange(o,i)}},{key:"handleSubmit",value:function handleSubmit(t){t.preventDefault(),this.events.emit("".concat(this.element.name,":submit"))}},{key:"handleFieldChange",value:function handleFieldChange(t,r){t&&void 0!==r?this.events.emit("".concat(this.element.name,".").concat(String(t),":change"),{field:t,value:r}):console.warn("Некорректные данные для события изменения поля:",{field:t,value:r})}},{key:"isValid",set:function set(t){this._submitButton.disabled=!t}},{key:"validationErrors",set:function set(t){this.setText(this._validationErrors,t)}},{key:"render",value:function render(t){var r=t.isValid,o=t.validationErrors,i=__rest(t,["isValid","validationErrors"]);return Form_get(Form_getPrototypeOf(Form.prototype),"render",this).call(this,{isValid:r,validationErrors:o}),Object.assign(this,i),this.element}}]),Form}(l);function Order_typeof(t){return Order_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Order_typeof(t)}function Order_defineProperties(t,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(c=i.key,a=void 0,a=function Order_toPrimitive(t,r){if("object"!==Order_typeof(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var i=o.call(t,r||"default");if("object"!==Order_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(c,"string"),"symbol"===Order_typeof(a)?a:String(a)),i)}var c,a}function Order_setPrototypeOf(t,r){return Order_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){return t.__proto__=r,t},Order_setPrototypeOf(t,r)}function Order_createSuper(t){var r=function Order_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var o,i=Order_getPrototypeOf(t);if(r){var c=Order_getPrototypeOf(this).constructor;o=Reflect.construct(i,arguments,c)}else o=i.apply(this,arguments);return function Order_possibleConstructorReturn(t,r){if(r&&("object"===Order_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return Order_assertThisInitialized(t)}(this,o)}}function Order_assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Order_getPrototypeOf(t){return Order_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},Order_getPrototypeOf(t)}var b=function(t){!function Order_inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Order_setPrototypeOf(t,r)}(Order,t);var r=Order_createSuper(Order);function Order(t,o){var i;return function Order_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Order),(i=r.call(this,t,o))._flatButtons=ensureAllElements(".button_alt",t),i._flatButtons.forEach((function(t){t.addEventListener("click",i.handleButtonClick.bind(Order_assertThisInitialized(i),t))})),i}return function Order_createClass(t,r,o){return r&&Order_defineProperties(t.prototype,r),o&&Order_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(Order,[{key:"handleButtonClick",value:function handleButtonClick(t){this.paymentMethod=t.name,this.events.emit("payment:change",t)}},{key:"paymentMethod",set:function set(t){var r=this;this._flatButtons.forEach((function(o){var i=o.name===t;r.toggleClass(o,"button_alt-active",i)}))}},{key:"deliveryAddress",set:function set(t){this.element.elements.namedItem("address").value=t}}]),Order}(_);function OrderConfirmed_typeof(t){return OrderConfirmed_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},OrderConfirmed_typeof(t)}function OrderConfirmed_defineProperties(t,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(c=i.key,a=void 0,a=function OrderConfirmed_toPrimitive(t,r){if("object"!==OrderConfirmed_typeof(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var i=o.call(t,r||"default");if("object"!==OrderConfirmed_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(c,"string"),"symbol"===OrderConfirmed_typeof(a)?a:String(a)),i)}var c,a}function OrderConfirmed_setPrototypeOf(t,r){return OrderConfirmed_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){return t.__proto__=r,t},OrderConfirmed_setPrototypeOf(t,r)}function OrderConfirmed_createSuper(t){var r=function OrderConfirmed_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var o,i=OrderConfirmed_getPrototypeOf(t);if(r){var c=OrderConfirmed_getPrototypeOf(this).constructor;o=Reflect.construct(i,arguments,c)}else o=i.apply(this,arguments);return function OrderConfirmed_possibleConstructorReturn(t,r){if(r&&("object"===OrderConfirmed_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function OrderConfirmed_assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function OrderConfirmed_getPrototypeOf(t){return OrderConfirmed_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},OrderConfirmed_getPrototypeOf(t)}var P=function(t){!function OrderConfirmed_inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&OrderConfirmed_setPrototypeOf(t,r)}(OrderConfirmed,t);var r=OrderConfirmed_createSuper(OrderConfirmed);function OrderConfirmed(t,o){var i;return function OrderConfirmed_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,OrderConfirmed),(i=r.call(this,t))._closeButton=i.getElement(".order-success__close"),i._totalAmount=i.getElement(".order-success__description"),i.initializeCloseButton(o),i}return function OrderConfirmed_createClass(t,r,o){return r&&OrderConfirmed_defineProperties(t.prototype,r),o&&OrderConfirmed_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(OrderConfirmed,[{key:"getElement",value:function getElement(t){return ensureElement(t,this.element)}},{key:"initializeCloseButton",value:function initializeCloseButton(t){(null==t?void 0:t.handleSuccess)&&this._closeButton.addEventListener("click",t.handleSuccess)}},{key:"totalAmount",set:function set(t){this._totalAmount.textContent="Списано ".concat(t," синапсов")}}]),OrderConfirmed}(l);function ContactInformation_typeof(t){return ContactInformation_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ContactInformation_typeof(t)}function ContactInformation_defineProperties(t,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(c=i.key,a=void 0,a=function ContactInformation_toPrimitive(t,r){if("object"!==ContactInformation_typeof(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var i=o.call(t,r||"default");if("object"!==ContactInformation_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(c,"string"),"symbol"===ContactInformation_typeof(a)?a:String(a)),i)}var c,a}function ContactInformation_setPrototypeOf(t,r){return ContactInformation_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){return t.__proto__=r,t},ContactInformation_setPrototypeOf(t,r)}function ContactInformation_createSuper(t){var r=function ContactInformation_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var o,i=ContactInformation_getPrototypeOf(t);if(r){var c=ContactInformation_getPrototypeOf(this).constructor;o=Reflect.construct(i,arguments,c)}else o=i.apply(this,arguments);return function ContactInformation_possibleConstructorReturn(t,r){if(r&&("object"===ContactInformation_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function ContactInformation_assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ContactInformation_getPrototypeOf(t){return ContactInformation_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},ContactInformation_getPrototypeOf(t)}var v=function(t){!function ContactInformation_inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&ContactInformation_setPrototypeOf(t,r)}(ContactInformation,t);var r=ContactInformation_createSuper(ContactInformation);function ContactInformation(t,o){return function ContactInformation_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,ContactInformation),r.call(this,t,o)}return function ContactInformation_createClass(t,r,o){return r&&ContactInformation_defineProperties(t.prototype,r),o&&ContactInformation_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(ContactInformation,[{key:"contactNumber",set:function set(t){this.element.elements.namedItem("phone").value=t}},{key:"emailAddress",set:function set(t){this.element.elements.namedItem("email").value=t}}]),ContactInformation}(_);function ProductPreview_typeof(t){return ProductPreview_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ProductPreview_typeof(t)}function ProductPreview_defineProperties(t,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(c=i.key,a=void 0,a=function ProductPreview_toPrimitive(t,r){if("object"!==ProductPreview_typeof(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var i=o.call(t,r||"default");if("object"!==ProductPreview_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(c,"string"),"symbol"===ProductPreview_typeof(a)?a:String(a)),i)}var c,a}function ProductPreview_setPrototypeOf(t,r){return ProductPreview_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){return t.__proto__=r,t},ProductPreview_setPrototypeOf(t,r)}function ProductPreview_createSuper(t){var r=function ProductPreview_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var o,i=ProductPreview_getPrototypeOf(t);if(r){var c=ProductPreview_getPrototypeOf(this).constructor;o=Reflect.construct(i,arguments,c)}else o=i.apply(this,arguments);return function ProductPreview_possibleConstructorReturn(t,r){if(r&&("object"===ProductPreview_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function ProductPreview_assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ProductPreview_getPrototypeOf(t){return ProductPreview_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},ProductPreview_getPrototypeOf(t)}var h=function(t){!function ProductPreview_inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&ProductPreview_setPrototypeOf(t,r)}(ProductPreview,t);var r=ProductPreview_createSuper(ProductPreview);function ProductPreview(t,o){var i;return function ProductPreview_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,ProductPreview),(i=r.call(this,t,o))._button=t.querySelector(".card__button"),i._text=ensureElement(".card__text",t),(null==o?void 0:o.onClick)&&i._button&&(t.removeEventListener("click",o.onClick),i._button.addEventListener("click",o.onClick)),i}return function ProductPreview_createClass(t,r,o){return r&&ProductPreview_defineProperties(t.prototype,r),o&&ProductPreview_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(ProductPreview,[{key:"text",set:function set(t){this.setText(this._text,t)}}]),ProductPreview}(y);function ProductsBasket_typeof(t){return ProductsBasket_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ProductsBasket_typeof(t)}function ProductsBasket_defineProperties(t,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(c=i.key,a=void 0,a=function ProductsBasket_toPrimitive(t,r){if("object"!==ProductsBasket_typeof(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var i=o.call(t,r||"default");if("object"!==ProductsBasket_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(c,"string"),"symbol"===ProductsBasket_typeof(a)?a:String(a)),i)}var c,a}function ProductsBasket_setPrototypeOf(t,r){return ProductsBasket_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){return t.__proto__=r,t},ProductsBasket_setPrototypeOf(t,r)}function ProductsBasket_createSuper(t){var r=function ProductsBasket_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var o,i=ProductsBasket_getPrototypeOf(t);if(r){var c=ProductsBasket_getPrototypeOf(this).constructor;o=Reflect.construct(i,arguments,c)}else o=i.apply(this,arguments);return function ProductsBasket_possibleConstructorReturn(t,r){if(r&&("object"===ProductsBasket_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function ProductsBasket_assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ProductsBasket_getPrototypeOf(t){return ProductsBasket_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},ProductsBasket_getPrototypeOf(t)}var O=function(t){!function ProductsBasket_inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&ProductsBasket_setPrototypeOf(t,r)}(ProductsBasket,t);var r=ProductsBasket_createSuper(ProductsBasket);function ProductsBasket(t,o){var i;return function ProductsBasket_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,ProductsBasket),(i=r.call(this,t))._name=ensureElement(".card__title",t),i._cost=ensureElement(".card__price",t),i._index=ensureElement(".basket__item-index",t),i._button=t.querySelector(".card__button"),(null==o?void 0:o.onClick)&&i._button&&(t.removeEventListener("click",o.onClick),i._button.addEventListener("click",o.onClick)),i}return function ProductsBasket_createClass(t,r,o){return r&&ProductsBasket_defineProperties(t.prototype,r),o&&ProductsBasket_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(ProductsBasket,[{key:"index",set:function set(t){this.setText(this._index,t)}},{key:"name",set:function set(t){this.setText(this._name,t)}},{key:"cost",set:function set(t){var r=null===t?"Бесценно":"".concat(t," синапсов");this.setText(this._cost,r)}}]),ProductsBasket}(l),g=new t,w=new i(o,r);g.onAll((function(t){return t.eventName}));var k=ensureElement("#success"),C=ensureElement("#card-catalog"),S=ensureElement("#card-preview"),j=ensureElement("#card-basket"),E=ensureElement("#basket"),T=ensureElement("#order"),B=ensureElement("#contacts"),A=new u({},g),I=new p(document.body,g),R=new d(ensureElement("#modal-container"),g),M=new m(cloneTemplate(E),g),x=new b(cloneTemplate(T),g),L=new v(cloneTemplate(B),g);function createProductCard(t){var r=new y(cloneTemplate(C),{onClick:function onClick(){return function handleCardSelect(t){g.emit("card:select",t)}(t)}});return r.render({name:t.title,category:t.category,imageUrl:"".concat(w.cdn).concat(t.image),cost:t.price})}g.on("items:changed",(function updateMarketPlaceItems(){var t=A.productCatalog;I.items=t.map(createProductCard)}));g.on("card:select",(function handleCardPreviewSelect(t){A.updatePreview(t)})),g.on("preview:changed",(function handlePreviewChange(t){var r=function createProductPreview(t){return new h(cloneTemplate(S),{onClick:function onClick(){return g.emit("card:add",t)}})}(t);!function renderPopup(t,r){R.render({popupContent:t.render({name:r.title,category:r.category,imageUrl:"".concat(w.cdn).concat(r.image),cost:r.price,text:r.description})})}(r,t)}));g.on("card:add",(function handleAddToCart(t){A.addItemToOrder(t),A.addItemToCart(t),I.counter=A.basketItems.length,R.closeModal()}));var N=function updateBasketState(){M.setDisabled(M.basketButton,A.isBasketEmpty),M.totalAmount=A.calculateTotal();var t=1;M.cartItems=A.basketItems.map((function(r){return new O(cloneTemplate(j),{onClick:function onClick(){return g.emit("card:remove",r)}}).render({name:r.title,cost:r.price,index:t++})})),R.render({popupContent:M.render()})};g.on("basket:open",(function(){N()})),g.on("card:remove",(function(t){A.removeItemFromCart(t),A.removeItemFromOrder(t),I.counter=A.basketItems.length,N()}));g.on("formErrors:change",(function handleValidationErrors(t){var r=t.payment,o=t.address,i=t.phone,c=t.email;x.isValid=!o&&!r,L.isValid=!i&&!c,x.validationErrors=Object.values({address:o,payment:r}).filter((function(t){return!!t})).join("; "),L.validationErrors=Object.values({phone:i,email:c}).filter((function(t){return!!t})).join("; ")}));var z=function handleFieldChange(t,r){var o=r.field,i=r.value;"contacts"===t?A.updateContactsField(o,i):"order"===t&&A.updateOrderField(o,i)};g.on(/^contacts\..*:change/,(function(t){return z("contacts",t)})),g.on(/^order\..*:change/,(function(t){return z("order",t)}));g.on("payment:change",(function handlePaymentChange(t){A.currentOrder.payment=t.name})),g.on("order:open",(function(){R.render({popupContent:x.render({address:"",payment:"card",isValid:!1,validationErrors:[]})})})),g.on("order:submit",(function(){A.currentOrder.total=A.calculateTotal(),R.render({popupContent:L.render({email:"",phone:"",isValid:!1,validationErrors:[]})})})),g.on("contacts:submit",(function(){w.productsOrder(A.currentOrder).then((function(t){var r=new P(cloneTemplate(k),{handleSuccess:function handleSuccess(){!function clearBasket(){A.emptyCart(),I.counter=A.basketItems.length,N()}(),R.closeModal()}});R.render({popupContent:r.render({totalAmount:A.calculateTotal()})})})).catch((function(t){console.error("Ошибка при отправке контактной информации",t)}))}));var D=function togglePageScroll(t){I.lockClass=t};g.on("modal:open",(function(){return D(!0)})),g.on("modal:close",(function(){return D(!1)})),w.fetchProductList().then(A.updateCatalog.bind(A)).catch((function(t){console.error("Ошибка при загрузке товаров",t)}))})();
//# sourceMappingURL=main.js.map